{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "title": "Research Run Configuration",
  "description": "Execute parallel research queries across multiple AI providers",
  "required": ["providers", "questions"],
  "properties": {
    "providers": {
      "type": "array",
      "title": "Providers",
      "description": "List of AI providers to query",
      "minItems": 1,
      "items": {
        "type": "string",
        "enum": ["openai", "gemini", "perplexity", "deepseek"]
      },
      "uniqueItems": true,
      "default": ["openai", "gemini", "perplexity", "deepseek"]
    },
    "questions": {
      "type": "array",
      "title": "Questions",
      "description": "Research questions to execute",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["id", "text"],
        "properties": {
          "id": {
            "type": "string",
            "title": "Question ID",
            "description": "Unique identifier for the question",
            "pattern": "^[a-zA-Z0-9_-]+$",
            "examples": ["q1", "question-1", "query_001"]
          },
          "text": {
            "type": "string",
            "title": "Question Text",
            "description": "The actual research question",
            "minLength": 1,
            "maxLength": 2000,
            "examples": [
              "What are the latest developments in quantum computing?",
              "How does climate change affect ocean temperatures?"
            ]
          }
        }
      }
    },
    "synthesis": {
      "type": "boolean",
      "title": "Enable Synthesis",
      "description": "Whether to synthesize and deduplicate results using an LLM",
      "default": true
    },
    "synthModel": {
      "type": "string",
      "title": "Synthesis Model",
      "description": "Model to use for synthesis (if enabled)",
      "enum": ["gpt-5", "gpt-5-mini", "gpt-5-nano"],
      "default": "gpt-5-mini"
    },
    "includeRawResults": {
      "type": "boolean",
      "title": "Include Raw Results",
      "description": "Include raw provider responses in output (in addition to synthesis). Only applies when synthesis is enabled. Defaults to false to save tokens.",
      "default": false
    },
    "includeMetrics": {
      "type": "boolean",
      "title": "Include Metrics",
      "description": "Include cost estimates, latency, and query statistics in output. Defaults to false to save tokens.",
      "default": false
    },
    "return": {
      "type": "string",
      "title": "Output Format",
      "description": "Format for the research results",
      "enum": ["json", "markdown", "file"],
      "default": "markdown"
    },
    "timeoutMs": {
      "type": "integer",
      "title": "Timeout (ms)",
      "description": "Request timeout in milliseconds",
      "minimum": 5000,
      "maximum": 300000,
      "default": 60000
    },
    "maxRetries": {
      "type": "integer",
      "title": "Max Retries",
      "description": "Maximum number of retry attempts per provider",
      "minimum": 0,
      "maximum": 5,
      "default": 3
    },
    "models": {
      "type": "object",
      "title": "Provider Models",
      "description": "Optional model overrides per provider",
      "properties": {
        "openai": {
          "type": "string",
          "enum": ["gpt-5", "gpt-5-mini", "gpt-5-nano"]
        },
        "gemini": {
          "type": "string",
          "enum": ["gemini-2.5-flash", "gemini-2.5-pro", "gemini-pro"]
        },
        "perplexity": {
          "type": "string",
          "enum": ["sonar-pro", "sonar", "sonar-medium"]
        },
        "deepseek": {
          "type": "string",
          "enum": ["deepseek-chat", "deepseek-coder"]
        }
      }
    }
  },
  "examples": [
    {
      "providers": ["openai", "perplexity"],
      "questions": [
        {
          "id": "q1",
          "text": "What are the latest AI research breakthroughs in 2025?"
        }
      ],
      "synthesis": true,
      "synthModel": "gpt-5-mini",
      "return": "markdown"
    },
    {
      "providers": ["gemini", "deepseek"],
      "questions": [
        {
          "id": "tech-1",
          "text": "Explain quantum entanglement"
        },
        {
          "id": "tech-2",
          "text": "What are the applications of quantum computing?"
        }
      ],
      "synthesis": true,
      "return": "file",
      "timeoutMs": 90000
    }
  ]
}